/*! simpleWebDevTool 14-07-2014 */"use strict";var controller={},simpleWebDevTool={};simpleWebDevTool.controller={},simpleWebDevTool.views={},simpleWebDevTool.service={},simpleWebDevTool.dao={},simpleWebDevTool.util={},jQuery(function(){var a=Sammy("#SimpleWebDevTool",function(){this.get("#/path",function(){$("#template").html(_.template(simpleWebDevTool.util.render("template1"))),controller=simpleWebDevTool.controller.pathController(),controller.init()}),this.get("#/path2",function(){$("#template").html(_.template(simpleWebDevTool.util.render("template2"))),controller=simpleWebDevTool.controller.path2Controller(),controller.init()}),this.get("#/vue",function(){$("#template").html(_.template(simpleWebDevTool.util.render("vueTemplate"))),controller=simpleWebDevTool.controller.vueController(),controller.init()}),this.get("#/path2/:id",function(){console.log(this.params.id)})});a.run()}),simpleWebDevTool.controller.path2Controller=function(){var a="path2Controller",b=simpleWebDevTool.service.path2Service();return{func1:function(){console.log("func1 "+a),b.func1(),console.log("func1 done")},func2:function(){console.log("func2 "+a),b.func2(),console.log("func2 done")},func3:function(){var c=[1,3];console.log("func3 "+a),b.save(c),console.log("func3 done")},init:function(){console.log("init "+a),b.load(),console.log("init done")},refresh:function(){console.log("refresh "+a);var c=b.getData();$("#list").empty(),_.forEach(c.data,function(a){$("#list").append("<li>"+a+"</li>")}),$("#text").text(c.refHtml)}}},simpleWebDevTool.controller.pathController=function(){var a="pathController",b=simpleWebDevTool.service.pathService();return tinymce.init({selector:"h1.editable",inline:!0,toolbar:"undo redo",menubar:!1}),tinymce.init({selector:"div.editable",inline:!0,plugins:["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table contextmenu paste"],toolbar:"insertfile undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image"}),$("div.editable").keyup(function(){controller.refer()}),{add:function(){console.log("func1 "+a);var c=$("#sampleForm").val();b.add(c),controller.refresh(),console.log("func1 done")},search:function(){console.log("search "+a);var c=$("#sampleForm").val();b.search(c),controller.refresh(),console.log("search done")},init:function(){console.log("init "+a),b.load()},refer:function(){var a=$("div.editable").html();b.refer(a),controller.refresh()},refresh:function(){var a=b.getData();$("#list").empty(),_.forEach(a.data,function(a){$("#list").append("<li>"+a+"</li>")}),$("#text").text(a.refHtml)}}},simpleWebDevTool.controller.vueController=function(){var a="vueController",b=simpleWebDevTool.service.vueService(),c=new Vue({el:"#template",data:{texts:["# hello"],list:[]}});return tinymce.init({selector:"h1.editable",inline:!0,toolbar:"undo redo",menubar:!1}),tinymce.init({selector:"div.editable",inline:!0,plugins:["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table contextmenu paste"],toolbar:"insertfile undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image"}),$("div.editable").keyup(function(){controller.refer()}),{add:function(){console.log("func1 "+a);var c=$("#sampleForm").val();b.add(c),controller.refresh(),console.log("func1 done")},search:function(){console.log("search "+a);var c=$("#sampleForm").val();b.search(c),controller.refresh(),console.log("search done")},init:function(){console.log("init "+a),b.load()},refer:function(){var a=$("div.editable").html();b.refer(a),controller.refresh()},refresh:function(){var a=b.getData();c.list=a.data,c.texts=[a.refHtml]}}},simpleWebDevTool.dao.path2Dao=function(){var a="path2Dao";return{load:function(b){return console.log("load "+a),simpleWebDevTool.util.getAjaxAsync("jsonApi/path/2",b,controller.refresh)},save:function(b,c){return console.log("save "+a),simpleWebDevTool.util.putAjaxAsync("jsonApi/path/2",b,c,controller.refresh)}}},simpleWebDevTool.dao.pathDao=function(){var a="pathDao";return{load:function(b){return console.log("load "+a),simpleWebDevTool.util.getAjaxAsync("jsonApi/path/2",b,controller.refresh)},save:function(b,c){return console.log("save "+a),simpleWebDevTool.util.putAjaxAsync("jsonApi/path/2",b,c,controller.refresh)}}};var InfoWindowStock=function(){this.stock=[]};InfoWindowStock.prototype={createKey:function(a){var b=a.k+":"+a.A;return b},put:function(a,b){var c=this.createKey(a);this.stock[c]=b},get:function(a){var b=this.createKey(a);return this.stock[b]}},simpleWebDevTool.service.path2Service=function(){var a="path2Service",b=simpleWebDevTool.dao.path2Dao(),c={};return{func1:function(){console.log("func1 "+a),c.data=_.map(c.data,function(a){return a+1}),controller.refresh()},func2:function(){console.log("func2 "+a),c.data=_.filter(c.data,function(a){return a%2===0}),controller.refresh()},save:function(d){console.log("save "+a),b.save(c,d)},load:function(){console.log("load "+a),b.load(c)},getData:function(){return console.log("refresh "+a),c}}},simpleWebDevTool.service.pathService=function(){var a="pathService",b=simpleWebDevTool.dao.pathDao(),c={};return{add:function(b){console.log("func1 "+a),c.data=_.map(c.data,function(a){return a+Number(b)})},search:function(b){console.log("func2 "+a),c.str=b,c.data=_.filter(c.data,function(a){return a===Number(b)})},load:function(){console.log("load "+a),b.load(c),console.log(c)},refer:function(a){c.refHtml=a+" refer"},getData:function(){return console.log("refresh "+a),c}}},simpleWebDevTool.service.vueService=function(){var a="vueService",b=simpleWebDevTool.dao.pathDao(),c={};return{add:function(b){console.log("func1 "+a),c.data=_.map(c.data,function(a){return a+Number(b)})},search:function(b){console.log("func2 "+a),c.str=b,c.data=_.filter(c.data,function(a){return a===Number(b)})},load:function(){console.log("load "+a),b.load(c),console.log(c)},refer:function(a){c.refHtml=a+" refer"},getData:function(){return console.log("refresh "+a),c}}},simpleWebDevTool.util.getAjaxAsync=function(a,b,c){console.log("getAjaxAsync url:"+a),$.ajax({type:"GET",url:a,async:!0}).done(function(a){console.log("success"),console.log(a),b.data=a,c()}).fail(function(){console.error("error")})},simpleWebDevTool.util.putAjaxAsync=function(a,b,c,d){console.log("putAjaxAsync url:"+a),$.ajax({type:"POST",url:a,async:!0,data:c}).done(function(a){console.log("success"),console.log(a),b.data=a,d()}).fail(function(){console.error(c)})},simpleWebDevTool.util.jsonCache=function(a){var b=[];return!b[a],b[a]},simpleWebDevTool.util.render=function(a){var b=[];if(!b[a]){var c,d="views/"+a+".html";$.ajax({url:d,method:"GET",async:!1,dataType:"html",success:function(a){c=a}}),b[a]=c}return b[a]},simpleWebDevTool.util.dummyWait=function(a){for(var b=(new Date).getTime(),c=(new Date).getTime();b+a>c;)c=(new Date).getTime()},simpleWebDevTool.util.time={},simpleWebDevTool.util.countStart=function(){simpleWebDevTool.util.startTime=(new Date).getTime(),console.info("count start")},simpleWebDevTool.util.timeShow=function(){var a=(new Date).getTime();console.info(a-simpleWebDevTool.util.startTime+" ms")};
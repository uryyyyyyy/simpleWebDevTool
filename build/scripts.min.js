/*! simpleWebDevTool 13-07-2014 */"use strict";var controller={},simpleWebDevTool={};simpleWebDevTool.controller={},simpleWebDevTool.views={},simpleWebDevTool.service={},simpleWebDevTool.dao={},simpleWebDevTool.util={},jQuery(function(){var a=Sammy("#SimpleWebDevTool",function(){this.get("#/path",function(){controller=simpleWebDevTool.controller.pathController(),controller.init()}),this.get("#/path2",function(){controller=simpleWebDevTool.controller.path2Controller(),controller.init()}),this.get("#/path2/:id",function(){console.log(this.params.id)})});a.run()}),simpleWebDevTool.controller.path2Controller=function(){var a="path2Controller",b=simpleWebDevTool.service.path2Service();return{func1:function(){console.log("func1 "+a),b.func1(),console.log("func1 done")},func2:function(){console.log("func2 "+a),b.func2(),console.log("func2 done")},func3:function(){var c=[1,3];console.log("func3 "+a),b.save(c),console.log("func3 done")},init:function(){console.log("init "+a),b.load(),console.log("init done")},refresh:function(){console.log("refresh "+a);var c=b.refresh();$("#template").html(_.template(simpleWebDevTool.util.render("template2"),{people:c}))}}},simpleWebDevTool.controller.pathController=function(){var a="pathController",b=simpleWebDevTool.service.pathService();return{func1:function(){console.log("func1 "+a),b.func1(),console.log("func1 done")},func2:function(){console.log("func2 "+a),b.func2(),console.log("func2 done")},init:function(){console.log("init "+a),b.load()},refresh:function(){$("#template").html(_.template(simpleWebDevTool.util.render("template1"),{people:b.refresh()}))}}},simpleWebDevTool.dao.path2Dao=function(){var a="path2Dao";return{load:function(){return console.log("load "+a),simpleWebDevTool.util.getAjaxAsync("jsonApi/path/2",controller.refresh)},save:function(b){return console.log("save "+a),simpleWebDevTool.util.putAjaxAsync("jsonApi/path/2",b,controller.refresh)}}},simpleWebDevTool.dao.pathDao=function(){var a="pathDao";return{load:function(){return console.log("load "+a),simpleWebDevTool.util.getAjaxAsync("jsonApi/path/2",controller.refresh)},save:function(b){return console.log("save "+a),simpleWebDevTool.util.putAjaxAsync("jsonApi/path/2",b,controller.refresh)}}};var InfoWindowStock=function(){this.stock=[]};InfoWindowStock.prototype={createKey:function(a){var b=a.k+":"+a.A;return b},put:function(a,b){var c=this.createKey(a);this.stock[c]=b},get:function(a){var b=this.createKey(a);return this.stock[b]}},simpleWebDevTool.service.path2Service=function(){var a="path2Service",b=simpleWebDevTool.dao.path2Dao(),c={};return{func1:function(){console.log("func1 "+a),c.data=_.map(c.data,function(a){return a+1}),controller.refresh()},func2:function(){console.log("func2 "+a),c.data=_.filter(c.data,function(a){return a%2===0}),controller.refresh()},save:function(d){console.log("save "+a),c=b.save(d)},load:function(){console.log("load "+a),c=b.load()},refresh:function(){return console.log("refresh "+a),c.data}}},simpleWebDevTool.service.pathService=function(){var a="pathService",b=simpleWebDevTool.dao.pathDao(),c={};return{func1:function(){console.log("func1 "+a),c.load=_.map(c.load,function(a){return a-1}),controller.refresh()},func2:function(){console.log("func2 "+a),c.load=_.filter(c.load,function(a){return a%2===1}),controller.refresh()},load:function(){console.log("load "+a),c=b.load(),console.log(c)},refresh:function(){return console.log("refresh "+a),c.load}}},simpleWebDevTool.util.getAjaxAsync=function(a,b){console.log("getAjaxAsync url:"+a);var c={};return $.ajax({type:"GET",url:a,async:!0}).done(function(a){console.log("success"),console.log(a),simpleWebDevTool.util.dummyWait(1e3),c.data=a,b()}).fail(function(){console.error("error")}),c},simpleWebDevTool.util.putAjaxAsync=function(a,b,c){console.log("putAjaxAsync url:"+a);var d={};return $.ajax({type:"POST",url:a,async:!0,data:b}).done(function(a){console.log("success"),console.log(a),simpleWebDevTool.util.dummyWait(1e3),d.data=a,c()}).fail(function(){console.error(b)}),d},simpleWebDevTool.util.dummyWait=function(a){for(var b=(new Date).getTime(),c=(new Date).getTime();b+a>c;)c=(new Date).getTime()},simpleWebDevTool.util.render=function(a){var b=[];if(!b[a]){var c,d="views/"+a+".html";$.ajax({url:d,method:"GET",async:!1,dataType:"html",success:function(a){c=a}}),b[a]=c}return b[a]};